<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Sunday Dough ‚Äì Order</title>

<style>
body {
  font-family: Arial, sans-serif;
  max-width: 700px;
  margin: auto;
  padding: 20px;
}
h1, h2 {
  text-align: center;
}
.flavour {
  border: 1px solid #ddd;
  padding: 10px;
  margin: 10px 0;
}
.qty-box {
  display: flex;
  align-items: center;
  gap: 10px;
}
.qty-box button {
  width: 35px;
  font-size: 18px;
}
.hidden {
  display: none;
}
.total {
  font-size: 20px;
  font-weight: bold;
  text-align: center;
  margin-top: 20px;
}
.notice {
  background: #f5f5f5;
  padding: 10px;
  border-left: 4px solid #333;
  margin-bottom: 15px;
}
</style>
</head>

<body>

<h1>üç™ Sunday Dough Pre-Order</h1>

<div class="notice">
<strong>Pickup & Delivery Rules</strong><br>
‚Ä¢ Mon‚ÄìFri: Pickup only (6‚Äì10 PM)<br>
‚Ä¢ Saturday: Delivery 2‚Äì6 PM / Pickup 6‚Äì10 PM<br>
‚Ä¢ Sunday: Pickup only (10 AM‚Äì10 PM)
</div>

<form action="https://formspree.io/f/xykzkyvr" method="POST">

<h2>Order day</h2>
<select id="day" name="Order day" onchange="updateRules()" required>
  <option value="">Select day</option>
  <option>Monday</option>
  <option>Tuesday</option>
  <option>Wednesday</option>
  <option>Thursday</option>
  <option>Friday</option>
  <option>Saturday</option>
  <option>Sunday</option>
</select>

<h2>Pickup or Delivery</h2>
<select id="method" name="Method" onchange="updateRules()" required>
  <option value="">Select option</option>
</select>

<h2>Time slot</h2>
<select id="time" name="Time slot" required>
  <option value="">Select time</option>
</select>

<h2>Cookie flavours & quantities</h2>

<div class="flavour">
  <strong>Classic Milk Chocolate</strong>
  <div class="qty-box">
    <button type="button" onclick="changeQty('milk',-1)">‚àí</button>
    <input id="milk" value="0" readonly>
    <button type="button" onclick="changeQty('milk',1)">+</button>
  </div>
</div>

<div class="flavour">
  <strong>Lotus Biscoff</strong>
  <div class="qty-box">
    <button type="button" onclick="changeQty('lotus',-1)">‚àí</button>
    <input id="lotus" value="0" readonly>
    <button type="button" onclick="changeQty('lotus',1)">+</button>
  </div>
</div>

<h2>Address</h2>
<p><strong>Pickup address:</strong> 29 Bramham Gardens</p>

<input type="text" name="Delivery address" placeholder="Delivery address (Saturday only)">
<input type="tel" name="Phone number" placeholder="Phone number">

<label>
  <input type="checkbox" required>
  I confirm I have read and understand the ingredient & allergen information.
</label>

<div class="total">
Total cookies: <span id="count">0</span><br>
Estimated price: ¬£<span id="price">0.00</span>
</div>

<input type="hidden" name="Order summary" id="summary">

<button type="submit">Submit Order</button>

</form>

<script>
const flavours = ["milk","lotus"];

function changeQty(id, n){
  const el=document.getElementById(id);
  el.value=Math.max(0,Number(el.value)+n);
  updateTotal();
}

function updateTotal(){
  let total=0;
  flavours.forEach(f=>total+=Number(document.getElementById(f).value));
  document.getElementById("count").textContent=total;
  let price=(total/2)*2.5;
  document.getElementById("price").textContent=price.toFixed(2);
  document.getElementById("summary").value=`Milk:${milk.value}, Lotus:${lotus.value}, Total:${total}`;
}

function updateRules(){
  const day=document.getElementById("day").value;
  const method=document.getElementById("method");
  const time=document.getElementById("time");

  method.innerHTML='<option value="">Select option</option>';
  time.innerHTML='<option value="">Select time</option>';

  if(["Monday","Tuesday","Wednesday","Thursday","Friday"].includes(day)){
    method.innerHTML+='<option>Pickup</option>';
    addTimes("18:00","22:00");
  }
  if(day==="Saturday"){
    method.innerHTML+='<option>Delivery</option><option>Pickup</option>';
    addTimes("14:00","18:00");
    addTimes("18:00","22:00");
  }
  if(day==="Sunday"){
    method.innerHTML+='<option>Pickup</option>';
    addTimes("10:00","22:00");
  }
}

function addTimes(start,end){
  document.getElementById("time").innerHTML+=
    `<option>${start} ‚Äì ${end}</option>`;
}
</script>

</body>
</html>
